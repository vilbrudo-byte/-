<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Подарок для Папы</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container welcome-page">
        <div class="content">
            <h1 class="title">Особенный подарок</h1>
            <p class="subtitle">для любимого папы</p>
            <p class="date">В честь твоего дня рождения</p>
            <button class="gift-button" onclick="openGift()">
                Открыть подарок
            </button>
        </div>
        <div class="decoration"></div>
        <canvas id="confetti-canvas"></canvas>
    </div>

    <script>
        function openGift() {
            const button = document.querySelector('.gift-button');
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');

            // Устанавливаем размеры canvas
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            // Делаем canvas видимым
            canvas.style.display = 'block';

            // Анимация кнопки
            button.style.transform = 'scale(0.95)';
            button.disabled = true;

            const confettiCount = 200;
            const confetti = [];
            const colors = ['#667eea', '#764ba2', '#ff6b6b', '#ffd93d', '#6bcf7f', '#ff85a2', '#a29bfe', '#fd79a8'];

            // Создаём конфетти
            for (let i = 0; i < confettiCount; i++) {
                confetti.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    size: Math.random() * 10 + 5,
                    speedY: Math.random() * 4 + 3,
                    speedX: Math.random() * 4 - 2,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    rotation: Math.random() * 360,
                    rotationSpeed: Math.random() * 20 - 10
                });
            }

            let frameCount = 0;
            const maxFrames = 120; // 2 секунды при 60fps

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                confetti.forEach(piece => {
                    // Обновляем позицию
                    piece.y += piece.speedY;
                    piece.x += piece.speedX;
                    piece.rotation += piece.rotationSpeed;

                    // Рисуем конфетти
                    ctx.save();
                    ctx.translate(piece.x, piece.y);
                    ctx.rotate(piece.rotation * Math.PI / 180);
                    ctx.fillStyle = piece.color;
                    ctx.fillRect(-piece.size / 2, -piece.size / 2, piece.size, piece.size);
                    ctx.restore();
                });

                frameCount++;

                if (frameCount < maxFrames) {
                    requestAnimationFrame(animate);
                } else {
                    // Переход на страницу подарка
                    window.location.href = 'gift.html';
                }
            }

            // Запускаем анимацию
            animate();
        }
    </script>
</body>
</html>
